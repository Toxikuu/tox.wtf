{% extends "base.html" %}

{% block header %}
    {{ macros.pwd(["pkgs", "rg"]) }}
{% endblock %}

{% block content %}
<p>::: recursive grep</p>

<pre>
<code>
tmpwtf=$(mktemp -d /tmp/XXX.wtf)
git clone --depth=1 https://github.com/burntsushi/ripgrep $tmpwtf

pushd $tmpwtf >/dev/null
cargo build --release --features=pcre2
install -vm755 target/release/rg -t /usr/bin/
popd >/dev/null

rm -rf $tmpwtf
rg --generate complete-bash |
    install -vDm644 /dev/stdin /usr/share/bash-completion/completions/rg
rg --generate man           |
    install -vDm644 /dev/stdin /usr/share/man/man1/rg.1
</code>
</pre>

{% endblock %}
